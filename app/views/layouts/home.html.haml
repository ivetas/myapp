%html
  %head
    %title Receptes
    %meta{ content: @page_description, name: 'description' }
    %meta{ content: 'width=device-width, initial-scale=1', name: 'viewport' }
    = javascript_include_tag "application"
    = stylesheet_link_tag "application"
    = csrf_meta_tags
  %body{ id: "#{controller_name}_#{action_name}".dasherize }
    %header.navbar.navbar-default.navbar-fixed-top.bs-docs-nav{ role: "banner" }
      .container-fluid
        .navbar-header
          %button.navbar-toggle{ type: "button", data: {toggle:"collapse", target:".bs-navbar-collapse"}}
            %span.sr-only Toggle navigation
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.navbar-brand{ href: "/home" } ReceptesLV
        %nav.collapse.navbar-collapse.bs-navbar-collapse{ role: "navigation" }
          %ul.nav.navbar-nav
            %li= link_to t('.home'), home_index_path
            %li= link_to t('.articles'), articles_path
            %li= link_to t('.receipts'), receipts_path
            - if user_signed_in?
              %li= link_to t('.my_receipts'), my_receipts_path
              - if current_user.is_admin?
                %li.dropdown
                  %a.dropdown-toggle{ role: "button", data: { toggle: "dropdown" }, "aria-expanded" => false }
                    #{t('.admin_menu')}
                    %span.caret
                  %ul.dropdown-menu{ role: "menu" }
                    %li= link_to t('.article_edditing'), admin_articles_path
                    %li= link_to t('.users'), admin_users_path
                    %li= link_to t('.categories'), admin_categories_path
          %ul.nav.navbar-nav.pull-right
            - if user_signed_in?
              %p.navbar-text= current_user.username
              %li= link_to t('exit'), destroy_user_session_path, method: :delete
            - else
              %li= link_to t('register'), new_user_registration_path
              %li= link_to t('signin'), new_user_session_path
          .banner
            = link_to_unless_current "Latvie≈°u", locale: "lv"
            = link_to_unless_current "English", locale: "en"

    .container-fluid
      .row
        .col-md-12
          - if notice
            .alert.alert-success= notice
          - if alert
            .alert.alert-danger= alert
      .row
        = yield
